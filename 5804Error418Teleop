#pragma config(Hubs,  S1, HTMotor,  HTMotor,  HTMotor,  none)
#pragma config(Sensor, S1,     ,               sensorI2CMuxController)
#pragma config(Motor,  mtr_S1_C1_1,     fr,            tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C1_2,     br,            tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C2_1,     fl,            tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C2_2,     bl,            tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C3_1,     Lift,          tmotorTetrix, PIDControl)
#pragma config(Motor,  mtr_S1_C3_2,     Arm,           tmotorTetrix, PIDControl)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#include "JoystickDriver.c"
#include "ButtonsDefs.h"

task main()
{


	waitForStart();   // wait for start of tele-op phase

	int speed = 75;
	int x,y;
	if(joystick.joy1_Buttons == button_right_button){
		speed = 55;
	}
	else if(joystick.joy1_Buttons == button_left_button){
		speed = 90;
	}
	else if (joystick.joy1_Buttons == button_right_trigger) {
		motor[fl] = 75;
		motor[bl] = 75;
		motor[fr] = -75;
		motor[fl] = -75;
	}
	else if (joystick.joy1_Buttons == button_left_trigger) {
		motor[fl] = -75;
		motor[bl] = -75;
		motor[fr] = 75;
		motor[br] = 75;
	}
	else if (joystick.joy2_TopHat == pov_north)
	{
		motor (Lift) = 55;
	}
	else if (joystick.joy2_TopHat == pov_south)
	{
		motor (Lift) = -55;
	}
	else if (joystick.joy1_TopHat == pov_north)
	{
		motor [br] = 80;
		motor [bl] = 80;
		motor [fr] = 80;
		motor [fl] = 80;
	}
	else if (joystick.joy1_TopHat == pov_south)
	{
		motor [br] = -80;
		motor [bl] = -80;
		motor [fr] = -80;
		motor [fl] = -80;
	}
	else {
			x = joystick.joy1_x1 / 128.0 * 100 * speed;
			y = joystick.joy1_y1 / 128.0 * 100 * speed;

		  motor[fr] = (-x + y);
			motor[br] = (x + y);
			motor[fl] = (-x + y);
			motor[fr] = (x + y);
	}
}
